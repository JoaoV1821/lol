{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nconst LS_CHAVE = \"pedidos\";\nexport class ConsultaPedidoService {\n  constructor() {}\n  listarTodosPedidos() {\n    const pedidos = localStorage[LS_CHAVE];\n    return pedidos ? JSON.parse(pedidos) : [];\n  }\n  inserirPedido(pedido) {\n    const pedidos = this.listarTodosPedidos();\n    pedidos.push(pedido);\n    localStorage[LS_CHAVE] = JSON.stringify(pedidos);\n  }\n  buscarPorPedido(numeroPedido) {\n    const pedidos = this.listarTodosPedidos();\n    return pedidos.find(pedido => pedido.numeroPedido === numeroPedido);\n  }\n  atualizarPedido(pedido) {\n    const pedidos = this.listarTodosPedidos();\n    pedidos.forEach((obj, index, objs) => {\n      if (pedido.numeroPedido === obj.numeroPedido) {\n        objs[index] = pedido;\n      }\n    });\n    localStorage[LS_CHAVE] = JSON.stringify(pedidos);\n  }\n  removerPedido(numeroPedido) {\n    let pedidos = this.listarTodosPedidos();\n    pedidos = pedidos.filter(pedido => pedido.numeroPedido !== numeroPedido);\n    localStorage[LS_CHAVE] = JSON.stringify(pedidos);\n  }\n}\n_class = ConsultaPedidoService;\n_class.ɵfac = function ConsultaPedidoService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["LS_CHAVE","ConsultaPedidoService","constructor","listarTodosPedidos","pedidos","localStorage","JSON","parse","inserirPedido","pedido","push","stringify","buscarPorPedido","numeroPedido","find","atualizarPedido","forEach","obj","index","objs","removerPedido","filter","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Alexandre\\Documents\\UFPR\\2023_02\\DS140_WEB2\\ProjetoWEB\\lol\\lavanderia-online\\src\\app\\consulta-pedido\\services\\consulta-pedido.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\nimport { Pedido } from 'src/app/shared/models/pedido.model';\r\n\r\nconst LS_CHAVE: string = \"pedidos\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConsultaPedidoService {\r\n\r\n  constructor() { }\r\n\r\n  listarTodosPedidos(): Pedido[] {\r\n    const pedidos = localStorage[LS_CHAVE];\r\n\r\n    return pedidos ? JSON.parse(pedidos) : [];\r\n  }\r\n\r\n  inserirPedido(pedido: Pedido): void {\r\n    const pedidos = this.listarTodosPedidos();\r\n\r\n    pedidos.push(pedido);\r\n\r\n    localStorage[LS_CHAVE] = JSON.stringify(pedidos);\r\n  }\r\n\r\n  buscarPorPedido(numeroPedido: number): Pedido | undefined {\r\n    const pedidos: Pedido[] = this.listarTodosPedidos();\r\n\r\n    return pedidos.find(pedido => pedido.numeroPedido === numeroPedido );\r\n  }\r\n\r\n  atualizarPedido(pedido: Pedido): void {\r\n    const pedidos: Pedido[] = this.listarTodosPedidos();\r\n\r\n    pedidos.forEach( (obj, index, objs) => {\r\n      if (pedido.numeroPedido === obj.numeroPedido) {\r\n        objs[index] = pedido\r\n      }\r\n    });\r\n\r\n    localStorage[LS_CHAVE] = JSON.stringify(pedidos);\r\n  }\r\n\r\n  removerPedido(numeroPedido: number): void {\r\n    let pedidos: Pedido[] = this.listarTodosPedidos();\r\n\r\n    pedidos = pedidos.filter(pedido => pedido.numeroPedido !== numeroPedido);\r\n\r\n    localStorage[LS_CHAVE] = JSON.stringify(pedidos);\r\n  }\r\n\r\n}\r\n"],"mappings":";;AAIA,MAAMA,QAAQ,GAAW,SAAS;AAKlC,OAAM,MAAOC,qBAAqB;EAEhCC,YAAA,GAAgB;EAEhBC,kBAAkBA,CAAA;IAChB,MAAMC,OAAO,GAAGC,YAAY,CAACL,QAAQ,CAAC;IAEtC,OAAOI,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACH,OAAO,CAAC,GAAG,EAAE;EAC3C;EAEAI,aAAaA,CAACC,MAAc;IAC1B,MAAML,OAAO,GAAG,IAAI,CAACD,kBAAkB,EAAE;IAEzCC,OAAO,CAACM,IAAI,CAACD,MAAM,CAAC;IAEpBJ,YAAY,CAACL,QAAQ,CAAC,GAAGM,IAAI,CAACK,SAAS,CAACP,OAAO,CAAC;EAClD;EAEAQ,eAAeA,CAACC,YAAoB;IAClC,MAAMT,OAAO,GAAa,IAAI,CAACD,kBAAkB,EAAE;IAEnD,OAAOC,OAAO,CAACU,IAAI,CAACL,MAAM,IAAIA,MAAM,CAACI,YAAY,KAAKA,YAAY,CAAE;EACtE;EAEAE,eAAeA,CAACN,MAAc;IAC5B,MAAML,OAAO,GAAa,IAAI,CAACD,kBAAkB,EAAE;IAEnDC,OAAO,CAACY,OAAO,CAAE,CAACC,GAAG,EAAEC,KAAK,EAAEC,IAAI,KAAI;MACpC,IAAIV,MAAM,CAACI,YAAY,KAAKI,GAAG,CAACJ,YAAY,EAAE;QAC5CM,IAAI,CAACD,KAAK,CAAC,GAAGT,MAAM;;IAExB,CAAC,CAAC;IAEFJ,YAAY,CAACL,QAAQ,CAAC,GAAGM,IAAI,CAACK,SAAS,CAACP,OAAO,CAAC;EAClD;EAEAgB,aAAaA,CAACP,YAAoB;IAChC,IAAIT,OAAO,GAAa,IAAI,CAACD,kBAAkB,EAAE;IAEjDC,OAAO,GAAGA,OAAO,CAACiB,MAAM,CAACZ,MAAM,IAAIA,MAAM,CAACI,YAAY,KAAKA,YAAY,CAAC;IAExER,YAAY,CAACL,QAAQ,CAAC,GAAGM,IAAI,CAACK,SAAS,CAACP,OAAO,CAAC;EAClD;;SA1CWH,qBAAqB;;mBAArBA,MAAqB;AAAA;;SAArBA,MAAqB;EAAAqB,OAAA,EAArBrB,MAAqB,CAAAsB,IAAA;EAAAC,UAAA,EAFpB;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}